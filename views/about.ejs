<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>About Us - <%= appName %></title>

    <div class="qa-bot">
      <h2>Questions and Answers</h2>
      <div class="input-container">
        <input
          type="text"
          id="user-question"
          placeholder="Ask your question here..."
        />
        <button onclick="sendQuestion()">Send</button>
      </div>
      <div id="answer" class="answer-box"></div>
    </div>

    <style>
      .qa-bot {
        margin: 40px auto;
        padding: 20px;
        background-color: rgba(240, 248, 255, 0.9); /* עדין יותר */
        border-radius: 15px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        text-align: center;
        max-width: 600px;
      }

      .input-container {
        display: flex;
        gap: 10px;
        justify-content: center;
        margin-bottom: 15px;
      }

      .qa-bot input {
        width: 70%;
        padding: 12px;
        border-radius: 25px;
        border: 1px solid #ccc;
        box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.1);
        font-size: 16px;
      }

      .qa-bot button {
        padding: 12px 25px;
        border: none;
        border-radius: 25px;
        background-color: #007aff;
        color: white;
        cursor: pointer;
        font-size: 16px;
        transition: background-color 0.3s ease;
      }

      .qa-bot button:hover {
        background-color: #005bb5;
      }

      .answer-box {
        margin-top: 10px;
        background-color: #f0f8ff;
        padding: 15px;
        border-radius: 15px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        font-size: 16px;
        color: #333;
        min-height: 50px;
      }

      .loading {
        display: inline-block;
        width: 24px;
        height: 24px;
        border: 3px solid rgba(0, 0, 0, 0.1);
        border-radius: 50%;
        border-top-color: #007aff;
        animation: spin 1s linear infinite;
        margin-left: 10px;
      }

      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        margin: 0;
        padding: 0;
        background: url("https://hadoctor.co.il/wp-content/uploads/2023/02/7-food-that-increases-glucose-levels-pixabay-balt-e1675714183955.jpg")
          no-repeat center center fixed;
        background-size: cover;
        color: #333;
      }

      nav {
        position: fixed;
        top: 0;
        width: 100%;
        background-color: rgba(255, 255, 255, 0.8);
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        padding: 10px 30px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        z-index: 1000;
        transform: translateX(-30px);
      }

      nav .logo {
        font-size: 24px;
        color: #007aff;
        font-weight: bold;
      }

      nav .menu a {
        margin-left: 20px;
        color: #333;
        text-decoration: none;
        font-size: 18px;
        transition: color 0.3s ease;
        position: relative; /* Required for tooltip positioning */
      }

      nav .menu a:hover {
        color: #007aff;
      }

      nav .menu a:hover + .tooltip {
        display: block;
      }

      .tooltip {
        display: none;
        position: absolute;
        background-color: rgba(173, 216, 230, 0.9);
        color: #333;
        padding: 10px;
        border-radius: 5px;
        z-index: 1000;
        margin-top: 5px;
        left: 80%;
        transform: translateX(-50%);
        white-space: normal;
        width: 250px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      }

      header {
        background-color: rgba(129, 172, 219, 0.9);
        color: white;
        padding: 20px;
        text-align: center;
        font-size: 30px;
        font-weight: bold;
        border-radius: 12px;
        margin: 60px auto 40px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      }

      .container {
        max-width: 900px;
        margin: 30px auto;
        padding: 20px;
        background-color: rgba(255, 255, 255, 0.9);
        border-radius: 15px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
      }

      h1,
      h2 {
        color: #007aff;
      }

      ul {
        list-style-type: disc;
        margin-left: 20px;
      }

      footer {
        text-align: center;
        margin: 20px 0;
        color: #666;
      }

      .video-container {
        display: flex;
        justify-content: center;
        margin: 30px 0;
      }

      iframe {
        width: 100%;
        height: 315px;
        max-width: 800px;
        border-radius: 15px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      }

      /* Q&A Bot Styles */
      .qa-bot {
        margin: 40px auto;
        padding: 20px;
        background-color: rgba(255, 255, 255, 0.9);
        border-radius: 15px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        text-align: center;
      }

      .qa-bot input {
        width: 80%;
        padding: 10px;
        border-radius: 5px;
        border: 1px solid #ccc;
        margin-bottom: 10px;
      }

      .qa-bot button {
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        background-color: #007aff;
        color: white;
        cursor: pointer;
        transition: background-color 0.3s ease;
      }

      .qa-bot button:hover {
        background-color: #005bb5;
      }
    </style>
  </head>
  <body>
    <nav>
      <div class="logo">SugarWize</div>
      <div class="menu">
        <a href="/users/dashboard">Home</a>
        <a href="/users/about">About</a>
        <a href="/users/profile">Profile</a>
        <div class="tooltip">Back to home</div>
        <div class="tooltip">Information about us</div>
        <div class="tooltip">Manage personal profile</div>
      </div>
    </nav>

    <header>Eat Right, Live Bright</header>

    <div class="container">
      <h2>About <%= appName %></h2>
      <p>
        <%= appName %> is designed to help you track your nutrition and easily
        monitor your blood sugar levels. Join us on your journey to better
        health!
      </p>

      <h2>Healthy Eating Tips</h2>
      <p>
        At <%= appName %>, we believe that a balanced diet is key to maintaining
        healthy blood sugar levels. Here’s a video explaining how nutrition
        plays a vital role in controlling sugar levels:
      </p>

      <div class="video-container">
        <iframe
          src="https://www.youtube.com/embed/8Jmx8wMa0j4?si=Fz8WvT3ojwMJta8m"
          title="Eating Healthy for Blood Sugar Control"
          frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen
        ></iframe>
      </div>

      <h2>Key Features</h2>
      <ul>
        <li>Personalized nutrition tracking</li>
        <li>Blood sugar level monitoring</li>
        <li>Health tips</li>
        <li>Reminder notifications</li>
      </ul>

      <h2>Our Mission</h2>
      <p>
        At <%= appName %>, we are committed to empowering individuals to take
        control of their health through informed nutrition and regular
        management. Our mission is to provide a user-friendly platform that
        promotes healthy habits and fosters a supportive community for all
        users.
      </p>

      <h2>Join Our Community</h2>
      <p>
        We believe that health is the best journey to travel together. Join our
        community of users who share their experiences, tips, and encouragement.
        Through our platform, you can connect with others on similar journeys,
        share recipes, and celebrate your successes. Together, we can achieve
        better health outcomes!
      </p>

      <h2>Success Stories</h2>
      <p>
        Hear from our users who have changed their lives with <%= appName %>.
        From lowering blood sugar levels to adopting healthy eating habits, our
        community is filled with inspiring stories that illustrate the power of
        dedication and support.
      </p>

      <h2>Contact Us</h2>
      <p>
        We value your feedback and are here to help you on your journey to
        better health. If you have any questions, suggestions, or need support,
        don’t hesitate to reach out to us. Together, we can make a difference in
        managing health effectively!
      </p>
    </div>

    <footer>
      <p>&copy; 2024 SugarWize - All rights reserved.</p>
    </footer>

    <script>
      async function sendQuestion() {
        const question = document.getElementById("user-question").value;
        const answerDiv = document.getElementById("answer");

        // Reset previous answer and show loading indicator
        answerDiv.innerHTML = 'Loading <div class="loading"></div>';

        try {
          const response = await fetch(
            "http://localhost:5005/webhooks/rest/webhook",
            {
              method: "POST",
              headers: {
                "Content-Type": "application/json",
              },
              body: JSON.stringify({ sender: "user", message: question }),
            }
          );

          const data = await response.json();

          if (data.length > 0) {
            answerDiv.innerHTML = `<strong>AI Answer:</strong> ${data[0].text}`;
          } else {
            answerDiv.innerHTML = "Sorry, I didn't understand that.";
          }
        } catch (error) {
          answerDiv.innerHTML = "Error connecting to AI: " + error.message;
        }

        // Clear the input field after sending
        document.getElementById("user-question").value = "";
      }
    </script>
  </body>
</html>
